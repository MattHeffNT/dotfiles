# ~/.zshrc

# Enable Powerlevel10k instant prompt early for speed
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# Path to oh-my-zsh installation
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="powerlevel10k/powerlevel10k"

# Plugins to load
plugins=(
  git
  web-search
  zsh-vi-mode
  copypath
  zsh-autosuggestions
  zsh-syntax-highlighting
  eza
)

# Load oh-my-zsh
source $ZSH/oh-my-zsh.sh

# Set vi insert mode escape key to 'jj'
ZVM_VI_INSERT_ESCAPE_BINDKEY=jj

# Preferred editor (local or SSH)
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='lvim'
else
  export EDITOR='lvim'
fi

# Aliases
alias gh-pages='node $HOME/dotfiles/create_github_pages_workflow.js'
alias neofetch="macchina"
alias updateAll="sudo nala update && sudo nala upgrade"
alias cat="batcat"
alias ls="eza --icons=always -a --group-directories-first --colour=always"
alias lvim="nvim"

# Load nvm if installed
export NVM_DIR="${XDG_CONFIG_HOME:-$HOME/.nvm}"
[ -s "$NVM_DIR/nvm.sh" ] && source "$NVM_DIR/nvm.sh"
[ -s "$NVM_DIR/bash_completion" ] && source "$NVM_DIR/bash_completion"

# Load fzf if installed
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# Source powerlevel10k config if it exists
[[ -f ~/.p10k.zsh ]] && source ~/.p10k.zsh

